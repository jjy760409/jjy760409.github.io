import os
from zipfile import ZipFile

# Create folder for the new version of the site (to replace existing index.html)
folder_path = "/mnt/data/agrinexus_new_site"
os.makedirs(folder_path, exist_ok=True)

# New version of index.html (replacing the business card style with info site)
index_html = """
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgriNexus World - 스마트팜 플랫폼</title>
</head>
<body>
  <header>
    <h1>🌍 AgriNexus World</h1>
    <p>AI 기반 스마트팜 · 글로벌 물류 · 자동화 제안 시스템</p>
    <nav>
      <a href="about.html">회사소개</a> |
      <a href="downloads.html">자료실</a> |
      <a href="admin.html">관리자</a>
    </nav>
  </header>

  <main>
    <section>
      <h2>핵심 서비스</h2>
      <ul>
        <li>🌱 스마트팜 재배 설계 및 자동화 운영</li>
        <li>🚚 글로벌 물류 최적화 시스템</li>
        <li>🧠 AI 작물 추천 + 수익 분석</li>
        <li>📄 제안서 및 계약서 자동 생성</li>
        <li>📥 IR 보고서 및 PDF 자동 배포</li>
      </ul>
    </section>
  </main>

  <footer>
    <p>© 2025 AgriNexus World. All rights reserved.</p>
  </footer>
</body>
</html>
"""
with open(os.path.join(folder_path, "index.html"), "w", encoding="utf-8") as f:
    f.write(index_html)

# Simple subpages to include in the package
subpages = {
    "about.html": "<h2>회사 소개</h2><p>AgriNexus World는 글로벌 스마트팜을 위한 AI 기반 플랫폼입니다.</p>",
    "downloads.html": "<h2>자료실</h2><ul><li>제안서 샘플</li><li>브랜드 소개서</li></ul>",
    "admin.html": "<h2>관리자 페이지</h2><p>콘텐츠 관리 기능은 추후 제공됩니다.</p>"
}

# Create subpages
for filename, content in subpages.items():
    with open(os.path.join(folder_path, filename), "w", encoding="utf-8") as f:
        f.write(f"<!DOCTYPE html><html lang='ko'><head><meta charset='UTF-8'><title>{filename}</title></head><body>{content}</body></html>")

# Create ZIP for download
zip_path = "/mnt/data/AgriNexus_NewSite_ReplaceVersion.zip"
with ZipFile(zip_path, 'w') as zipf:
    for root, _, files in os.walk(folder_path):
        for file in files:
            file_path = os.path.join(root, file)
            arcname = os.path.relpath(file_path, folder_path)
            zipf.write(file_path, arcname)

zip_path
